# The transformation query specified here will be used to change each exported 
# message into a different format. You can get started using the example below,
# and learn more about the language in documentation:
# https://aka.ms/dataexporttransformation
import "iotc" as iotc;
{
    applicationId: .applicationId,
    id:.device.id | gsub("_";"-"),
    model: "dtmi:digitaltwins:rec_3_3:core:Asset;1",
    messageSource: .messageSource,
    properties: {
    weight: .telemetry[]| select(.name=="value").value
    },
}